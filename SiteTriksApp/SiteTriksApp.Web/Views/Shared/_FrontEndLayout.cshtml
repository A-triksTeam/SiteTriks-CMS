<!DOCTYPE html>
@{
    string lang = ViewData.ContainsKey("Lang") ? ViewData["Lang"].ToString() : "en";
    bool isAmp = ViewData.ContainsKey("IsAmp") ? (bool)ViewData["IsAmp"] : false;
}

<html @if (isAmp == true) { @Html.Encode("amp")} lang="@lang">

<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @RenderSection("MetaTagsSection", required: false)

    @* favicons *@
    <link rel="apple-touch-icon-precomposed" type="image/png" href="~/apple-touch-icon.png">
    <link rel="icon" href="https://sitetriks.azureedge.net/static-files/favicon.ico">
    <link rel="icon" type="image/png" href="https://sitetriks.azureedge.net/static-files/favicon-16x16.png" sizes="16x16">
    <link rel="apple-touch-icon-precomposed" type="image/png" href="~/favicon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon-precomposed" type="image/png" href="~/favicon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon-precomposed" type="image/png" href="~/favicon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon-precomposed" type="image/png" href="~/favicon-180x180.png" sizes="180x180">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-TileImage" content="~/mstile-150x150.png">
    <link rel="mask-icon" href="~/safari-pinned-tab.svg" color="red">

    <environment include="Development">
        <link type="text/css" rel="stylesheet" href="~/css/bundle.css" async />
    </environment>
    <environment exclude="Development">
        <link type="text/css" rel="stylesheet" href="~/css/bundle.css" async />
    </environment>

    @* polyfils *@
    <script asp-fallback-src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser-polyfill.min.js"
            asp-fallback-test="typeof Symbol !== 'undefined'"></script>
    <script asp-fallback-src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"
            asp-fallback-test="typeof Promise !== 'undefined'"></script>

    @if (User.Identity.IsAuthenticated)
    {
        <style>
            .login {
                display: none;
            }
        </style>
    }
    else
    {
        <style>
            .logout {
                display: none;
            }
        </style>

    }

    @RenderSection("styles", required: false)

    @*<!-- Global site tag (gtag.js) - Google Analytics -->

        TODO: uncomment when deploying to azure

        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119762809-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'UA-119762809-1');
        </script>*@
</head>
<body class="st-wide">
    <div id="wrapper" class="wrapper st-body-content">

        @RenderBody()

    </div>


    <environment include="Development">
        <script type="text/javascript" src="~/js/bundle.js"></script>
    </environment>
    <environment exclude="Development">
        <script type="text/javascript" src="~/js/bundle.js"></script>
    </environment>

    @RenderSection("scripts", required: false)

</body>
</html>
