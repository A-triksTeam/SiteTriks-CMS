@using System.Security.Claims;

@model SiteTriks.BlogModule.Models.Blog.DetailedBlogPostViewModel

@{
    ViewBag.Title = "Blog Post Details";
}

@section Styles {
    <link href="~/css/navbar-remove.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="~/css/forum.css" />
}

<div class="fixed-top-2">
    @await Html.PartialAsync("SecondNavHeader")

    <a href="@Url.Action("Index")" class="btn-nav-2"><span class="st-icon-return-to-list"></span>Cancel</a>
    <a href="@Url.Action("Edit", new { id = Model.Id })" class="btn-nav-2">Edit</a>
    <a href="@Url.Action("Delete", new { id = Model.Id })" class="btn-nav-2">Delete</a>
</div>

<div class="backend-wrapper">
    <div>
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.DateCreated)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.DateCreated)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Title)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Title)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Content)
            </dt>

            <dd>
                @Html.Raw(Model.Content)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Creator)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Creator)
            </dd>

        </dl>
    </div>

    <div class="comments-section">
        <h3>Comments</h3>
        <div id="comments-container" class="container-fluid"></div>
        <hr />
        <div class="add-comment-section">
            <textarea id="blog-comment-area"></textarea>
            <a id="btn-comment" class="btn btn-backend-light btn-add-comment">Add Comment</a>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript" src="~/lib/custom/tinymce/tinymce.min.js"></script>
    <script type="text/javascript" src="~/js/text-editor.js"></script>
    <script type="text/javascript" src="~/js/modules/utils.js"></script>
    <script type="text/javascript" src="~/js/comments.js"></script>
    <script type="text/javascript">
        Comments.init('@Model.Id', $('#comments-container'), 'blog-comment-area');
        WarningWindow.attach();
    </script>
}
